mixin dev_head(page_title, edit_profile, patients, add_patient, scheduller, public_profile, patient_card, edit_card)
    head
        title=page_title
        | <!-- saved from url=(0014)about:internet -->
        meta(charset='utf-8')
        meta(name='viewport', content="width=device-width, initial-scale=1.0")
        - if (patients)
            link(rel='stylesheet', href='styles/jquery.fancybox.css?no_cache')
        link(rel='stylesheet', href='styles/main_global.css?no_cache', media='all')
        script(src='js/jquery1.10.js?no_cache')
        script(src='js/jquery-ui.js?no_cache')
        script(src='js/chosen.jquery.js?no_cache')
        script(src='js/script.js?no_cache')
        - if (edit_profile)
            script(src='js/swiper.js')
            //script(src='js/chosen.jquery.js')
            script(src='js/jquery.nicescroll.js')
            script(src='js/edit_profile.js?no_cache')
        - if (patients)
            //script(src='js/swiper.js')
            //script(src='js/chosen.jquery.js')
            script(src='js/jquery.nicescroll.js')
            script(src='js/jquery.fancybox.js')
            script(src='js/patients_script.js?no_cache')
        - if (edit_card)
            //script(src='js/swiper.js')
            //script(src='js/chosen.jquery.js')
            script(src='js/jquery.nicescroll.js')
            script(src='js/jquery.fancybox.js')
            script(src='js/notify.js')
            script(src='js/edit_patient_script.js?no_cache')
        - if (public_profile)
            link(href='https://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css')
            //script(src='js/swiper.js')
            //script(src='js/chosen.jquery.js')
            script(src='js/jquery.nicescroll.js')
            script(src='js/moment.min.js')
            script(src='js/fullcalendar.js')
            script(src='js/public_profile_script.js?no_cache')
        - if (add_patient)
            link(href='https://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css')
            //script(src='js/swiper.js')
            //script(src='js/chosen.jquery.js')
            script(src='js/jquery.nicescroll.js')
            script(src='js/add_patient_script.js?no_cache')
        - if (scheduller)
            //link(href='https://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css')
            script(src='js/moment.min.js')
            script(src='js/jquery.nicescroll.js')
            script(src='js/fullcalendar.js')
            script(src='js/calendar_script.js?no_cache')


mixin loop_while(counter)
    -i=0;
    while i < counter
        -i++;
        block
        
mixin patient_status(cls, chzn_cls)
    .patient_status_w.chosen_v2.no_search.skipOpen(class=cls)
        select.chosen-select(class = chzn_cls)
            option.state_pin.status_blue(value=0 data-title='status_blue' selected) 1 
            option.state_pin.status_green(value=1 data-title='status_green') 2
            option.state_pin.status_red(value=2 data-title='status_red') 3
            option.state_pin.status_orange(value=3 data-title='status_orange') 4

mixin patient_menu()
    .patient_menu_w.skipOpen
        .drop_down_btn: span
        .drop_down_w
            ul.drop_down_menu
                li.drop_down_item.active: a.gl_link(href='#'): span Подтвердить прием
                li.drop_down_item: a.gl_link(href='#'): span Отказать в  приёме
                li.drop_down_item: a.gl_link(href='#'): span Добавить запись в карту
                li.drop_down_item: a.gl_link(href='#'): span Редактировать
                li.drop_down_item: a.gl_link(href='#'): span Отправить в архив
                li.drop_down_item: a.gl_link(href='#'): span Удалить
            
mixin card_menu()
    .card_menu_w
        .drop_down_btn: span
        .drop_down_w
            ul.drop_down_menu
                li.drop_down_item: a.gl_link(href='#'): span Редактировать
                li.drop_down_item: a.gl_link(href='#'): span Добавить файл
                li.drop_down_item: a.gl_link(href='#'): span Удалить
            
mixin patient_info_table()
    .patient_info_table: .other_info_cell
        p +7 927 026 10 22
        p yaosamo@gmail.com
            
mixin header(active_menu, sub_header, profile_sub_header, card_sub_header, edit_patient, notification_center)
    div.header
        .section_inner.clearfix
            .fl.mob_hidden
                a.logo(href='profile.html')
            .menu_holder
                ul.main_menu
                    li.main_m_item(class= active_menu == 1 ? 'active' : ''): a.gl_link(href='schedule.html'): span Расписание
                    li.main_m_item(class= active_menu == 2 ? 'active' : ''): a.gl_link(href='patients.html'): span Пациенты
            .fr
                .mb.mob_hidden: .user_m_item
                    a.notifications.white_transp_2_btn.new_notification.notificationBtn(href='#') 2
                    .notification_holder: .notification_dropdown.notificationDropdown
                        ul.notification_list
                            +loop_while(2)
                                li.notification_item
                                    .notification_img
                                        img(src='i/notify_img.jpg')
                                    .notification_event
                                        p Фотография  
                                            b rentgen-10-12-2015.jpg 
                                            |  удалена, 
                                            a.gl_link.gray_link_3(href='#'): span отменить
                            +loop_while(3)
                                li.notification_item
                                    .notification_img
                                        .user_photo
                                            .user_initials К
                                    .notification_event
                                        p Новая не подтвержденная запись на 15 февраля в 14:00, 
                                            a.gl_link.gray_link_3(href='#'): span подтвердить

                        .text_center
                            a.gl_link.blue_link(href='#'): span Все уведомления
                            
                                        
                .mb.mob_hidden: .user_m_item
                    a.btn_v1.white_transp_btn.quick_reg_btn(href='#') Быстрая запись

                a.menu_humburger.openMenu(href='#'): span Меню
                
    - if (sub_header)
        .sub_header_holder
            .section_inner.clearfix
                .fl.header_search_form_holder
                    .header_search_form
                        form(action='#' novalidate)
                            label.input_w.search_input_w
                                input.input_v2.form_input(placeholder='Поиск пациента')
                                button.search_btn
    
                .fl.mob_hidden.read_mode
                    a.btn_v1.add_card_btn.yellow_black_btn(href='add_patient.html') Создать новую карточку

                .patient_edit_controls.edit_mode
                    a.btn_v1.green_btn.save_card_btn.saveCard_(href='card_edit.html') Написать в карту
                    
                .fr.filter_toggle_holder
                    .mb.read_mode: form(action='#' novalidate)
                        ul.filter_toggle.filter_toggle_v1
                            li.filter_t_item
                                label.filter_t_box
                                    input.hidden_input(type='radio' name='patient_filter' checked)
                                    span.filter_t_name
                                        | Все
                                        span.dt_hidden  пациенты
                            li.filter_t_item
                                label.filter_t_box
                                    input.hidden_input(type='radio' name='patient_filter')
                                    span.filter_t_name
                                        span.dt_hidden Не подтвержденые
                                        span.mob_hidden Ожидают подтверждения
                            li.filter_t_item.mob_hidden
                                label.filter_t_box
                                    input.hidden_input(type='radio' name='patient_filter')
                                    span.filter_t_name В архиве 
    
                    .mb.edit_mode
                        ul.avatar_catcher.avatarCatcher
    
    - if (edit_patient)
        .sub_header_holder
            .section_inner.clearfix: .patient_controls
                .fl: .mb.rel_holder
                    a.go_back_btn.middle_mod(href='patients.html')

                .page_title Написать в карту
                    
                .fr.filter_toggle_holder
                    .mb.edit_mode
                        ul.avatar_catcher.avatarCatcher    
    
    - if (notification_center)
        .sub_header_holder
            .section_inner.clearfix: .patient_controls
                .fl: .mb.rel_holder
                    a.go_back_btn.middle_mod(href='patients.html')

                .page_title Уведомления
                    
                .fr.filter_toggle_holder
                    .mb.edit_mode
                        ul.avatar_catcher.avatarCatcher
    
    - if (profile_sub_header)
        //- just spacer       
        .calendar_header_holder.calendarSubHeader
    
    - if (card_sub_header)
        .sub_header_holder
            .section_inner.clearfix
                .fl.header_search_form_holder
                    .header_search_form
                        form(action='#' novalidate)
                            label.input_w.search_input_w
                                input.input_v2.form_input(placeholder='Поиск пациента')
                                button.search_btn
    
                .fl.mob_hidden
                    a.btn_v1.add_card_btn.yellow_black_btn(href='add_patient.html') Создать новую карточку

                .fr.filter_toggle_holder: .mb: form(action='#' novalidate)
                    ul.filter_toggle.filter_toggle_v1
                        li.filter_t_item
                            label.filter_t_box
                                input.hidden_input(type='radio' name='patient_filter' checked)
                                span.filter_t_name
                                    | Все
                                    span.dt_hidden  пациенты
                        li.filter_t_item
                            label.filter_t_box
                                input.hidden_input(type='radio' name='patient_filter')
                                span.filter_t_name
                                    span.dt_hidden Не подтвержденые
                                    span.mob_hidden Ожидают подтверждения
                        li.filter_t_item.mob_hidden
                            label.filter_t_box
                                input.hidden_input(type='radio' name='patient_filter')
                                span.filter_t_name В архиве 
        
    .preloader
        .fl.spinner6()
            .rect1
            .rect2
            .rect3
            .rect4
            .rect5

mixin time_switcher()
    form#change_reception_form(action='#' style='display:none' title='')
        .time_switcher
            .time_switcher_block
                .form_row
                    .form_cell
                        .time_switch_term Дата:
                    .form_cell
                        .time_switch_val
                            input#change_reception_time.form_input.input_v9(value='6 января' tabindex="-1")
                            
                .form_row
                    .form_cell
                        .time_switch_term Начало:
                    .form_cell
                        .time_switch_val.chosen_v4.no_search
                            select.chosen-select(data-placeholder='время' data-rails_class='rails_v5' data-rails_r='20')
                                option(value='' data-title='')
                                option(value=1 data-title='') 6 : 00
                                option(value=2 data-title='' disabled) 7:15—7:45
                                option(value=3 data-title='') 7:45
                                option(value=4 data-title='' disabled) 8:00—8:30
                                option(value=5 data-title='') 8:30
                                option(value=6 data-title='') 9:00
                                option(value=7 data-title='') 10:00
                                option(value=8 data-title='') 11:00
                                option(value=9 data-title='') 12:00
                                option(value=10 data-title='') 13:00
                                option(value=11 data-title='') 14:00
                                option(value=12 data-title='') 15:00
                                option(value=13 data-title='') 16:00
                                option(value=14 data-title='') 17:00
                            
                .form_row
                    .form_cell
                        .time_switch_term Конец:
                    .form_cell
                        .time_switch_val.chosen_v4.no_search
                            select.chosen-select(data-placeholder='время' data-rails_class='rails_v5' data-rails_r='20')
                                option(value='' data-title='')
                                option(value=1 data-title='') 6 : 00
                                option(value=2 data-title='' disabled) 7:15—7:45
                                option(value=3 data-title='') 7:45
                                option(value=4 data-title='' disabled) 8:00—8:30
                                option(value=5 data-title='') 8:30
                                option(value=6 data-title='') 9:00
                                option(value=7 data-title='') 10:00
                                option(value=8 data-title='') 11:00
                                option(value=9 data-title='') 12:00
                                option(value=10 data-title='') 13:00
                                option(value=11 data-title='') 14:00
                                option(value=12 data-title='') 15:00
                                option(value=13 data-title='') 16:00
                                option(value=14 data-title='') 17:00
                            
                .form_row
                    .form_cell
                        .time_switch_term Повторять:
                    .form_cell
                        .time_switch_val.chosen_v4.no_search
                            select.chosen-select(data-rails_class='rails_v5' data-rails_r='20')
                                option(value='' data-title='')
                                option(value=0 data-title='' selected) Нет
                                option(value=1 data-title='') Да
                            
                .form_row.text_center
                    a.time_switcher_btn(href='#') Сохранить
        
mixin popup()
    .popup_form.popup_v4#first_run_patients(style='display:none')
        .first_run_tips
            h3.first_run_caption Здесь находится карты ваших пациентов
            p Пока у вас не заведено ниодной карты, чтобы создать нового нажмите на кнопку ниже
            
            .first_run_controls
                a.first_run_btn.white_blue_btn.btn_v6(href='#') Создать запись
        
    .popup_form.popup_v3#add_patient_form(style='display:none')
        .form_corner
        form(action='#' novalidate)
            +patient_status('right_mod', 'newPatientState')
            .form_row
                .input_w.placeholder_mod
                    input#new_patient_name.form_input.input_v4.checkEmpty(type='text', name='new_patient_name', value='')
                    label.form_label.fz_20_(for='new_patient_name') Имя пациента
    
            .form_row
                .input_w.placeholder_mod
                    input#new_patient_phone.form_input.input_v4.checkEmpty(type='tel', name='new_patient_phone')
                    label.form_label(for='new_patient_phone') Телефон
    
            .form_row
                .input_w.placeholder_mod
                    input#new_patient_email.form_input.input_v4.checkEmpty(type='email', name='new_patient_email')
                    label.form_label(for='new_patient_email') Email
    
            .form_row
                .input_w.placeholder_mod
                    input#new_patient_describe.form_input.input_v4.checkEmpty(type='email', name='new_patient_describe')
                    label.form_label(for='new_patient_describe') Краткое описание (только для вас)
            .controls_block
                button.btn_v2.new_patient_btn.newPatientBtn.yellow_black_btn(): span.mb Записать на 30 декабря, в 12:00
                .time_switch_block
                    
                    .text_center
                        a.gl_link(href='#') Изменить время приема


    .popup_form.popup_v2#patient_info_form(style='display:none')
        .form_corner
        form(action='#' novalidate)
            .patient_card.cardOverview
                +patient_status()
                +patient_menu()
                a.patient_avatar(href='#'): img(src='i/user_2.png')
                .patient_info
                    .patient_name: a.gl_link.gray_link(href='#'): span Осинцев Константин
                    textarea.input_v5.form_input.skipOpen Болят карманы, ломит штаны, от водки тошнит, вылечите скорей меня
                +patient_info_table()
    
                .patient_card_controls.skipOpen.patient_warn: .patient_info_table
                    .controls_cell
                        a.btn_v2.patient_btn.white_white_btn(href='#'): span.mb Подтвердить прием на 29 декабря в 12:00
                        p: a.gl_link.changeReceptionTime(href='#') Изменить время приема
                +patient_overview()
        
mixin write_control()
    .writeCtrl
        .write_control_item
            .chosen_v3.no_search
                select.chosen-select.paramSelect
                    option(value=0 data-title='Ознакомление' selected) Ознакомление
                    option(value=1 data-title='Ознакомление 2') Ознакомление 2
                    option(value=2 data-title='Ознакомление 3') Ознакомление 3
                    option(value=3 data-title='Ознакомление 4') Ознакомление 4
                    option(value=4 data-title='Свое назначение' data-action='custom') Свое назначение

            .write_state_control
                .write_state_btn.mod_rm

        .write_control_item.custom_field
            .input_w
                input.form_input.input_v8.addParamVal(placeholder='Введите название')
            .write_state_control
                .write_state_btn.mod_ok.addTolist

mixin appointments()
    form#appointments_form(action='#' style='display:none' title=''): .popup_form.popup_v1
        .form_caption Для записи заполните  <br>  три поля ниже
        .form_content
            .form_row
                .input_w.placeholder_mod
                    input#new_patient_name.form_input.input_v4.checkEmpty(type='text', name='new_patient_name', value='')
                    label.form_label.fz_20(for='new_patient_name') Введите имя и фамилию

            .form_row
                .input_w.placeholder_mod
                    input#new_patient_phone.form_input.input_v4.checkEmpty(type='tel', name='new_patient_phone')
                    label.form_label(for='new_patient_phone') Телефон

            .form_row
                .input_w.placeholder_mod
                    input#new_patient_email.form_input.input_v4.checkEmpty(type='email', name='new_patient_email')
                    label.form_label(for='new_patient_email') Email (если есть, чтобы получить мед. карту)

        .form_footer: a.btn_v4.appointment_btn.appointmentTimeBtn.yellow_black_btn(href='#form_page_1') Выбрать время записи
        
        .form_page#form_page_1: .popup_form
            .form_caption_holder
                .form_caption Выберите день и время приема
                .form_tip Кликните в свободную ячейку
            .form_content
                +popup_calendar()
        
            .form_footer: button.btn_v4.doctor_btn.appointmentTimeBtn.yellow_black_btn() Записаться на 15 января, в 9:50
        
mixin popup_calendar()
    .popup_calendar_holder
        #popup_calendar.calendar_v2
        
mixin patient_overview(collapsed)
    .patient_overview
        a.btn_v3.add_patient_line.white__btn(href='#') Добавить запись в карту
        ul.patient_overview_list
            li.patient_overview_line
                .overview_caption ПОРТРЕТ ПАЦИЕНТА
                dl.overview_info
                    dt Рост:
                    dd 185
                    dt Вес
                    dd 78 кг
                    dt Возраст
                    dd 18 лет
                    
            li.patient_overview_line
                .overview_caption МЕДИЦИНСКИЕ ОСОБЕННОСТИ
                p Есть хвост
                
            li.patient_overview_line
                .overview_caption ДОПОЛНИТЕЛЬНАЯ ИНФОРМАЦИЯ
                p Договор №000099
                
    
mixin aside_menu()
    .aside_menu_overlay.closeMenu
    .aside_menu_holder
        .aside_menu
            a.aside_close_btn.closeMenu(href='#')
            .user_info
                .user_avatar: img(src='i/user_small_1.png')
                .user_name: b Ярослав Самойлов
                p 
                    a.gl_link.blue_link(href='#'): span Перейти на сайт
            .aside_m_scroller: ul.aside_m_list
                li.aside_m_item: a.gl_link.openLogin(href='#') Поделиться моей страницей
                li.aside_m_item: a.gl_link.openRecovery(href='#') Настройки
                li.aside_m_item: a.gl_link.openRecoverySuccess(href='#') Выход из учетной записи
                li.aside_m_item.aside_m_last: a.gl_link.openRegSuccess(href='#') Техническая поддержка
                
    #login_form.popup_form.checkEmptyBlock(style='display:none')
        form(action='#' novalidate)
            .form_caption Вход
            
            .form_row
                ul.soc_auth
                    li.soc_auth_item
                        a.btn_v4.soc_auth_btn.s_auth_vk.vk_btn(href='#') Вконтакте
                    li.soc_auth_item
                        a.btn_v4.soc_auth_btn.s_auth_fb.fb_btn(href='#') Facebook 
    
            .form_row.text_center
                .login_tips
                    .mb Вход через email
    
            .form_row
                label.hidden_input(for='new_patient_email') Email
                .input_w
                    input#new_patient_email.form_input.input_v3.blue_mod.text_center.checkEmpty(type='email', name='new_patient_email', placeholder='Email')
    
            .form_row
                label.hidden_input(for='new_patient_describe') Краткое описание (только для вас)
                .input_w
                    input#new_patient_describe.form_input.input_v3.blue_mod.text_center.checkEmpty(type='password', name='new_patient_describe', placeholder='Пароль')
    
            .form_row
                button.btn_v4.login_btn.disabled_btn_gray.disableEmpty() Войти или зарегистрироваться
        
            .form_row.text_center
                a.gl_link.gray_link_4(href='#') Забыли пароль?
                
    .popup_form#recovery_form(style='display:none')
        form(action='#' novalidate)
            .recovery_block
                .form_caption Восстановление пароля
                        
                .form_row
                    label.hidden_input(for='new_patient_email') Email
                    .input_w
                        input#new_patient_email.form_input.input_v3.blue_mod.text_center(type='email', name='new_patient_email', placeholder='Email')
            
                .form_row
                    button.btn_v4.login_btn.disabled_btn_gray() Восстановить
            
                .form_row.text_center
                    a.gl_link.gray_link_4(href='#') Назад
                                
    .popup_form#recovery_success_form(style='display:none')
        form(action='#' novalidate)
            .recovery_block
                .form_caption Пароль отправлен на почту yaosamo@gmail.com

                .form_row
                    button.btn_v4.login_btn.yellow_black_btn() Вход в профиль

    #reg_success_form(action='#' style='display:none' title=''): .popup_form.popup_v1.text_center
        .msg_header
            .form_caption Если врач Kanye West не перезвонил вам, уточните время запсии по телефону  <br>  +7 (927) 026-10-20
            
            .text_center: a.btn_v4.white_green_btn.cancel_btn(href='#') Отменить приём
        
        .msg_footer
            .form_caption Зарегистрируйтесь, чтобы читать записи врача в вашей мед. карте онлайн
            .text_center: a.btn_v4.black_blue_btn.cancel_btn(href='#') Перейти в профиль


mixin aside_card()
    .aside_card_holder.card_mod
        .aside_menu
            //a.aside_close_btn.closeMenu(href='#')
            .patient_aside_overview
                .patient_card.open_card
                    a.go_back_btn.card_mod.closeMenu(href='#')
                    +patient_menu()
                    a.patient_avatar(href='#'): img(src='i/user_2.png')
                    .patient_info
                        .patient_name: a.gl_link.gray_link(href='#'): span Осинцев Константин
                        textarea.input_v5.form_input.skipOpen Болят карманы, ломит штаны, от водки тошнит, вылечите скорей меня
                    +patient_info_table()
    
                    .patient_card_controls.skipOpen.patient_warn: .patient_info_table
                        .controls_cell
                            a.btn_v2.patient_btn.white_white_btn(href='#'): span.mb Подтвердить прием на 29 декабря в 12:00
                            p: a.gl_link.changeReceptionTime(href='#') Изменить время приема
                    +patient_overview()
